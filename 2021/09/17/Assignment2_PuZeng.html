<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Number Theory and a Google Recruitment Puzzle | fastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Number Theory and a Google Recruitment Puzzle" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An easy to use blogging platform with support for Jupyter Notebooks." />
<meta property="og:description" content="An easy to use blogging platform with support for Jupyter Notebooks." />
<link rel="canonical" href="https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/2021/09/17/Assignment2_PuZeng.html" />
<meta property="og:url" content="https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/2021/09/17/Assignment2_PuZeng.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-09-17T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/2021/09/17/Assignment2_PuZeng.html","@type":"BlogPosting","headline":"Number Theory and a Google Recruitment Puzzle","dateModified":"2021-09-17T00:00:00-05:00","datePublished":"2021-09-17T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/2021/09/17/Assignment2_PuZeng.html"},"description":"An easy to use blogging platform with support for Jupyter Notebooks.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/BIOSTAT823_Blog_PuZeng/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/feed.xml" title="fastpages" />

<link rel="shortcut icon" type="image/x-icon" href="/BIOSTAT823_Blog_PuZeng/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/BIOSTAT823_Blog_PuZeng/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/BIOSTAT823_Blog_PuZeng/about/">About Me</a><a class="page-link" href="/BIOSTAT823_Blog_PuZeng/search/">Search</a><a class="page-link" href="/BIOSTAT823_Blog_PuZeng/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Number Theory and a Google Recruitment Puzzle</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-09-17T00:00:00-05:00" itemprop="datePublished">
        Sep 17, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      7 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/puzeng/BIOSTAT823_Blog_PuZeng/tree/master/_notebooks/2021-09-17-Assignment2_PuZeng.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/BIOSTAT823_Blog_PuZeng/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/puzeng/BIOSTAT823_Blog_PuZeng/master?filepath=_notebooks%2F2021-09-17-Assignment2_PuZeng.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/BIOSTAT823_Blog_PuZeng/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/puzeng/BIOSTAT823_Blog_PuZeng/blob/master/_notebooks/2021-09-17-Assignment2_PuZeng.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/BIOSTAT823_Blog_PuZeng/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-09-17-Assignment2_PuZeng.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The main goal of this project is to find the first 10-digit prime in the decimal expansion of 17$\pi$.</p>
<p>This blog post is going to solve this question by using three helper functions.</p>
<p>This blog can be retrieved in here: <a href="https://puzeng.github.io/BIOSTAT823_Blog_PuZeng/">Pu's Blog</a>.</p>
<p>In addition, this notebook is kept in here: <a href="https://github.com/puzeng/BIOSTAT823_Blog_PuZeng">Pu's Repo</a> under the folder <code>_notebooks</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's load all the required packages first.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sympy</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Expand-the-mathematical-expreesion">Expand the mathematical expreesion<a class="anchor-link" href="#Expand-the-mathematical-expreesion"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, we are going to generate an arbitrary large expression of a mathematical expression like $\pi$. For that, a helper function called <code>expansion_expression</code> will help to do that.</p>
<p>As the input will be a string that contains the mathematical expression and its coefficient if has, we are going to use regular expression to extract the coefficient of the mathematical expression if there is one.</p>
<p>Next, we will expand the mathematical expression first to have a number of self-defined digits before generate the multiple of the mathematical expression.</p>
<p>Then, the multiple of the mathematical expression is generated by multiplying the coefficient with the mathematical expression.</p>
<p>The following is how the helper function is programmed.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">expansion_mathematical_expression</span><span class="p">(</span><span class="n">math_expression</span><span class="p">,</span> <span class="n">num_digits</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Genearate an arbitrary expression of mathematical expression.&quot;&quot;&quot;</span>
    <span class="c1">#Coefficient are the any digits in numeric before the mathematical expression.</span>
    <span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[0-9]+&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="s2">&quot;pi&quot;</span> <span class="ow">in</span> <span class="n">math_expression</span><span class="p">:</span>
        <span class="c1">#Generate the mathematical expression in self-defined digits</span>
        <span class="n">expanded_expression</span> <span class="o">=</span> <span class="n">sympy</span><span class="o">.</span><span class="n">N</span><span class="p">(</span><span class="n">sympy</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">num_digits</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">math_expression</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">times</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">math_expression</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">expanded_expression</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_expression</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">expanded_expression</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_expression</span><span class="p">)</span>


    <span class="k">if</span> <span class="s2">&quot;e&quot;</span> <span class="ow">in</span> <span class="n">math_expression</span><span class="p">:</span>
        <span class="c1">#Generate the mathematical expression in self-defined digits</span>
        <span class="n">expanded_expression</span> <span class="o">=</span> <span class="n">sympy</span><span class="o">.</span><span class="n">N</span><span class="p">(</span><span class="n">sympy</span><span class="o">.</span><span class="n">E</span><span class="p">,</span> <span class="n">num_digits</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">math_expression</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">times</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">pattern</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">math_expression</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">expanded_expression</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_expression</span> <span class="o">*</span> <span class="n">times</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">expanded_expression</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">expanded_expression</span><span class="p">)</span>

    <span class="c1">#Ignore the period</span>
    <span class="n">expanded_expression</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\.&#39;</span> <span class="p">,</span> <span class="s2">&quot;&quot;</span> <span class="p">,</span><span class="n">expanded_expression</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">expanded_expression</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Check-prime-number">Check prime number<a class="anchor-link" href="#Check-prime-number"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The second helper function that we are going to implement is the function to check whether the number is a prime or not, called <code>is_prime</code>.</p>
<p>We are not going to solve by brute force method which is to use all numbers from 2 to itself to divide that number. However, we can analyze this problem first and solve with the analytical method.</p>
<p>The product combinations of a number can be divided into two halves where they are mirroring to each other. For example, number 36 has the following combinations:</p>
<ol>
<li>1 * 36</li>
<li>2 * 18</li>
<li>3 * 12</li>
<li>4 * 9</li>
<li>6 * 6</li>
<li>9 * 4</li>
<li>12 * 3</li>
<li>18 * 2</li>
<li>36 * 1  </li>
</ol>
<p>We can notice that the first 4 pairs are mirroring with the last 4 pairs while the fifth pair is the mirroring line. Thus, we can generalize this question by checking whether the number can be divided by the factors up to its square root so that we don't need to check all the factors.</p>
<p>The codes below show how the analytical method is implemented:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">check_window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check whether the number is a prime or not.&quot;&quot;&quot;</span>
    <span class="n">check_window</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">check_window</span><span class="p">)</span>
    <span class="c1"># Check whether this number can be divided by any factors up to its sqrt(check_window)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">check_window</span><span class="p">))</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">check_window</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Slide-window">Slide window<a class="anchor-link" href="#Slide-window"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The third helper function is to generate all the sliding windows on the mathematical expression through looping through the expression. The length of the window is depending on the number of digits that the user is trying to check for the prime.</p>
<p>This is accomplished by appending all the sliding windows to the other list while sliding down the string.</p>
<p>Below shows how the above arguments are implemented:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">slide_window</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">input_text</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generate all sliding windows for a mathematical expression based on the customized length.&quot;&quot;&quot;</span>
    <span class="n">slide_windows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">input_text</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">width</span><span class="p">:</span>
        <span class="n">slide_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input_text</span><span class="p">[:</span><span class="n">width</span><span class="p">])</span>
        <span class="n">input_text</span> <span class="o">=</span> <span class="n">input_text</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        
    <span class="k">return</span> <span class="n">slide_windows</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Assemble-to-answer-the-question">Assemble to answer the question<a class="anchor-link" href="#Assemble-to-answer-the-question"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we go through all the helper functions that are used in answering the question, we now can assemble them as in one function to help solve the puzzle.</p>
<p>The main function will take two arguments:</p>
<ol>
<li><code>num_digits</code>: an integer for defining the number of digits to expand on the mathematical expression.  </li>
<li><code>math_expression</code>: a string that are going to be expanded based on which mathematical expression is input.</li>
<li><code>width_side_window</code>: an integer for indicating how many digits that the prime is going to be.  </li>
</ol>
<p>Within the big function called <code>ten_digits_primes_in_expression</code>, we will first generate an arbitrary large expression of the corresponding mathematical expression by self definition through the function, <code>expansion_mathematical_expression</code>.</p>
<p>Then, we are generating all the sliding windows based on a self-defined length which is also equivalent to the number of digits in the prime, by calling the function <code>slide_window</code>.</p>
<p>To tell whether the slide window is a prime a not, we need to call function <code>is_prime</code>. If it is a prime, this function will return True and otherwise.</p>
<p>Once, we detect that if the slide window is the prime, we will immediatelly return as the digits in the slide window. If not, we will go to the next slide window.</p>
<p>Below shows how the above arguments are implemented and how to use the function:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">ten_digits_primes_in_expression</span><span class="p">(</span><span class="n">num_digits</span><span class="p">,</span> <span class="n">math_expression</span><span class="p">,</span> <span class="n">width_slide_window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Extrat first 10 prime digits in a mathematical expression.&quot;&quot;&quot;</span>
    <span class="c1">#Expand the expression in self-defined digits</span>
    <span class="n">expanded_expression</span> <span class="o">=</span> <span class="n">expansion_mathematical_expression</span><span class="p">(</span><span class="n">math_expression</span><span class="p">,</span> <span class="n">num_digits</span><span class="p">)</span>
    
    <span class="c1">#Generate all the slide windows by self-defined width</span>
    <span class="n">all_slide_windows</span> <span class="o">=</span> <span class="n">slide_window</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">expanded_expression</span><span class="p">)</span>
    
    <span class="c1">#Check whether the current window is prime or not</span>
    <span class="k">for</span> <span class="n">ele</span> <span class="ow">in</span> <span class="n">all_slide_windows</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_prime</span><span class="p">(</span><span class="n">ele</span><span class="p">)</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">ele</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">first_prime</span> <span class="o">=</span> <span class="n">ten_digits_primes_in_expression</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="s2">&quot;17pi&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The first 10-digit prime in the decimal expansion of 17</span><span class="se">\u03C0</span><span class="s2"> is </span><span class="si">{</span><span class="n">first_prime</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The first 10-digit prime in the decimal expansion of 17π is 8649375157.
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="For-contributors:-Testing">For contributors: Testing<a class="anchor-link" href="#For-contributors:-Testing"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">unittest</span>

<span class="k">class</span> <span class="nc">TestNotebook</span><span class="p">(</span><span class="n">unittest</span><span class="o">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_expansion_mathematical_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expansion_mathematical_expression</span><span class="p">(</span><span class="s2">&quot;pi&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;3141592654&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">expansion_mathematical_expression</span><span class="p">(</span><span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;2718281828&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_is_prime</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">111</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">is_prime</span><span class="p">(</span><span class="mi">596</span><span class="p">),</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_slide_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">slide_window</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s2">&quot;12345&quot;</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">slide_window</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;12345&quot;</span><span class="p">),</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="s1">&#39;5&#39;</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">test_ten_digits_primes_in_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">ten_digits_primes_in_expression</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
                        <span class="s1">&#39;7427466391&#39;</span><span class="p">)</span>

<span class="n">unittest</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">argv</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">],</span> <span class="n">verbosity</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="n">exit</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>test_expansion_mathematical_expression (__main__.TestNotebook) ... ok
test_is_prime (__main__.TestNotebook) ... ok
test_slide_window (__main__.TestNotebook) ... ok
test_ten_digits_primes_in_expression (__main__.TestNotebook) ... ok

----------------------------------------------------------------------
Ran 4 tests in 0.015s

OK
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;unittest.main.TestProgram at 0x7fd1e715e850&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Supplementary-materials">Supplementary materials<a class="anchor-link" href="#Supplementary-materials"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Besides to check whether a number is a prime or not by the above analytical method, we can also solve this question by another analytical approach, Sieve of Eratosthenes.</p>
<p>In general, the mechanism follows that within a range of number, the multiples of 2, 3, 4, and all the way up to the square root of the number will be crossed out.</p>
<p>The implementation then will follow:</p>
<ol>
<li>Initially, generate a boolean list to cast those primes by the length of that number.</li>
<li>We will then cross out the multiples of 2 at the beginning and stop untill the multiples of 2 is greater that number.</li>
<li>Then, cross out the multiples of 3.</li>
<li>Cross out the multiples of factors that are all the way up till the square root of that number.</li>
<li>Generate an array contains a range of that number.</li>
<li>Map the boolean list to the array to get all the primes of the range.  </li>
<li>If that number itself is within the list, then return True or otherwise.  </li>
</ol>
<p>This method based on Siev of Eratosthene is much faster than the method used above since the complexity is O(N* log(log(N))) compared to O(sqrt(N)).</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_prime_sieve_eratosthenes</span><span class="p">(</span><span class="n">check_window</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Check whether the number is a prime or not based on Sieve Of Eratosthenes.&quot;&quot;&quot;</span>
    <span class="c1">#Create a list of True initially</span>
    <span class="c1">#Once find the multiples, update True as False</span>
    <span class="n">check_window</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">check_window</span><span class="p">)</span>
    <span class="n">prime_list</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">check_window</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    <span class="n">iterate_num</span> <span class="o">=</span> <span class="mi">2</span>

    <span class="k">while</span> <span class="n">iterate_num</span> <span class="o">*</span> <span class="n">iterate_num</span> <span class="o">&lt;=</span> <span class="n">check_window</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">prime_list</span><span class="p">[</span><span class="n">iterate_num</span><span class="p">]</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">iterate_num</span> <span class="o">*</span> <span class="n">iterate_num</span><span class="p">,</span> <span class="n">check_window</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
                <span class="n">prime_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">iterate_num</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="n">target_list</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">check_window</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">target_list</span> <span class="o">=</span> <span class="n">target_list</span><span class="p">[</span><span class="n">prime_list</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">check_window</span> <span class="ow">in</span> <span class="n">target_list</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;5 is a prime? </span><span class="si">{</span><span class="n">is_prime_sieve_eratosthenes</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>5 is a prime? True
</pre>
</div>
</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/BIOSTAT823_Blog_PuZeng/2021/09/17/Assignment2_PuZeng.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/BIOSTAT823_Blog_PuZeng/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/BIOSTAT823_Blog_PuZeng/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/BIOSTAT823_Blog_PuZeng/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/BIOSTAT823_Blog_PuZeng/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/BIOSTAT823_Blog_PuZeng/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
